
# 02_multi_stage â†’ ~120 MB (good, but not god mode)
FROM amazonlinux:latest AS builder
RUN yum update -y && yum install -y python3 python3-pip && pip3 install --user flask

FROM amazonlinux:latest
COPY --from=builder /root/.local /root/.local
ENV PATH=/root/.local/bin:$PATH
COPY app.py /opt/app.py
CMD ["flask", "run", "--host=0.0.0.0", "--port=8080"]
